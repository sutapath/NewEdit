<template>

  <Head title="Scholarship Application Details" />

  <AuthenticatedLayout>
    <div class="max-w-7xl mx-auto mb-3  py-4 mt-20 px-10">

      <div v-if="application" class="card border p-4 mb-4 rounded-lg shadow-lg">
        <div
          class="bg-gray-700 rounded-lg dark:bg-gray-800 mb-3 overflow-hidden shadow-lg sm:rounded-lg border border-gray-500 dark:border-gray-600">
          <div
            class="py-2 px-4 text-white dark:text-gray-100 border-b border-gray-600 flex justify-between items-center">
            <div class="flex items-center space-x-2">
              <span>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏™‡∏°‡∏±‡∏Ñ‡∏£</span>
              <span v-if="application.scholar_type === '0'">‡∏ó‡∏∏‡∏ô‡πÄ‡∏û‡∏ä‡∏£‡∏≠‡∏¥‡∏ô‡∏ó‡∏ô‡∏¥‡∏•</span>
              <span v-else-if="application.scholar_type === '1'">‡∏ó‡∏∏‡∏ô‡∏á‡∏î‡πÄ‡∏ß‡πâ‡∏ô‡∏Ñ‡πà‡∏≤‡∏ò‡∏£‡∏£‡∏°‡πÄ‡∏ô‡∏µ‡∏¢‡∏°‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤</span>
            </div>
            <div class="flex space-x-2 ml-auto">
              <Link :href="route('scholarship_applications.AllStudents')" class="custom-button-danger">‡∏Å‡∏•‡∏±‡∏ö
              </Link>
            </div>
          </div>
        </div>

        <div class="grid grid-cols-1 mt-3 md:grid-cols-4 gap-6 w-full">
          <div>
            <InputLabel for="title" value="‡∏Ñ‡∏≥‡∏ô‡∏≥‡∏´‡∏ô‡πâ‡∏≤" />
            <select id="title" v-model="application.title" class="mt-1 block w-full bg-white rounded-xl border-gray-300"
              required>
              <option value="0">‡∏ô‡∏≤‡∏¢ (Mr.)</option>
              <option value="1">‡∏ô‡∏≤‡∏á (Mrs.)</option>
              <option value="2">‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß (Miss)</option>
            </select>
          </div>

          <!-- First Name Field -->
          <div>
            <InputLabel for="fname" value="‡∏ä‡∏∑‡πà‡∏≠‡∏à‡∏£‡∏¥‡∏á" />
            <TextInput readonly id="fname" type="text" class="mt-1 block w-full" v-model="application.fname" required
              autocomplete="fname" />
          </div>

          <!-- Last Name Field -->
          <div>
            <InputLabel for="lname" value="‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•" />
            <TextInput readonly id="lname" type="text" class="mt-1 block w-full" v-model="application.lname" required
              autocomplete="lname" />
          </div>
          <div>
            <InputLabel for="id_card " value="‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡∏ö‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô" />
            <TextInput readonly id="id_card " type="text" class="mt-1 block w-full" v-model="application.id_card"
              required autocomplete="lname" />
          </div>
        </div>


        <div class="grid grid-cols-1 mt-3  md:grid-cols-4 gap-6 w-full">
          <div>
            <InputLabel for="gpax" value="‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô" />
            <TextInput readonly id="gpax" type="text" class="mt-1 block w-full" v-model="application.gpax" required
              autocomplete="gpax" />
          </div>
          <div v-if="application.scholar_type === '1'">
            <InputLabel for="tuition_fee" value="‡∏Ñ‡πà‡∏≤‡∏ò‡∏£‡∏£‡∏°‡πÄ‡∏ô‡∏µ‡∏¢‡∏°‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©" />
            <TextInput readonly id="tuition_fee" type="text" class="mt-1 block w-full" v-model="application.tuition_fee"
              required autocomplete="tuition_fee" />
          </div>

          <!-- First Name Field -->
          <div>
            <InputLabel for="phone" value="‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå" />
            <TextInput readonly id="phone" type="text" class="mt-1 block w-full" v-model="application.phone" required
              autocomplete="fname" />
          </div>
        </div>

        <template v-if="application.scholar_type === '0'">
          <div>
            <InputLabel for="type_ability" value="‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏û‡∏¥‡πÄ‡∏®‡∏©" />
            <select id="type_ability" v-model="application.type_ability" required
              class="mt-1 block w-full bg-white rounded-xl border-gray-300">
              <option value="" disabled selected>‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ó‡∏∏‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏û‡∏¥‡πÄ‡∏®‡∏©</option>
              <option value="1">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ó‡∏∏‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏î‡∏µ</option>
              <option value="2">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ó‡∏∏‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏î‡∏µ‡πÅ‡∏ï‡πà‡∏Ç‡∏≤‡∏î‡πÅ‡∏Ñ‡∏•‡∏ô‡∏ó‡∏∏‡∏ô‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå</option>
              <option value="3">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ó‡∏∏‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏û‡∏¥‡πÄ‡∏®‡∏©‡∏î‡πâ‡∏≤‡∏ô‡∏Å‡∏µ‡∏¨‡∏≤</option>
              <option value="4">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ó‡∏∏‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏û‡∏¥‡πÄ‡∏®‡∏©‡∏î‡πâ‡∏≤‡∏ô‡∏ú‡∏•‡∏á‡∏≤‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏£‡∏£‡∏Ñ‡πå</option>
              <option value="5">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ó‡∏∏‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏û‡∏¥‡πÄ‡∏®‡∏©‡∏î‡πâ‡∏≤‡∏ô‡∏î‡∏ô‡∏ï‡∏£‡∏µ ‡∏ô‡∏≤‡∏è‡∏®‡∏¥‡∏•‡∏õ‡πå</option>
              <option value="6">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡πÄ‡∏™‡∏£‡∏¥‡∏°‡∏†‡∏≤‡∏ß‡∏∞‡∏ú‡∏π‡πâ‡∏ô‡∏≥</option>
            </select>
          </div>



          <!-- File components -->
          <div class="grid grid-cols-1 md:grid-cols-3 mt-3  gap-4 w-full mt-3">
            <!-- gpa_image Section -->
            <div class='w-full max-w-lg px-10 py-8 mx-auto bg-white rounded-lg shadow-xl'>
              <div class='max-w-md mx-auto space-y-6'>
                <p class=" font-bold">‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</p>
                <div v-if="application.gpa_image" class="file-container mt-4">
                  <iframe :src="`/storage/files/${application.gpa_image}`" class="w-full h-40" frameborder="0"></iframe>
                  <div class="flex justify-end"><a :href="`/storage/files/${application.gpa_image}`"
                      target="_blank" style="display: inline-block;  color: white; text-decoration: none;"  class=" custom-button-primary no-underline mt-3">‡∏î‡∏π‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</a>
                  </div>
                </div>
              </div>
            </div>

            <div class='w-full max-w-lg px-10 py-8 mx-auto bg-white rounded-lg shadow-xl'>
              <div class='max-w-md mx-auto space-y-6'>
                <p class=" font-bold">‡∏£‡∏π‡∏õ‡∏ú‡∏π‡πâ‡∏™‡∏°‡∏±‡∏Ñ‡∏£</p>
                <div v-if="application.imagefile" class="file-container mt-4">
                  <iframe :src="`/storage/files/${application.imagefile}`" class="w-full h-40" frameborder="0"></iframe>
                  <div class="flex justify-end"><a :href="`/storage/files/${application.imagefile}`"
                      target="_blank" style="display: inline-block;  color: white; text-decoration: none;"  class=" custom-button-primary no-underline mt-3">‡∏î‡∏π‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</a>
                  </div>
                </div>
              </div>
            </div>

            <!-- conduct_cert Section -->
            <!-- conduct_cert Section -->
            <div class='w-full max-w-lg px-10 py-8 mx-auto bg-white rounded-lg shadow-xl'>
              <div class='max-w-md mx-auto space-y-6'>
                <p class=" font-bold">‡πÉ‡∏ö‡∏£‡∏±‡∏ö‡∏£‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏û‡∏§‡∏ï‡∏¥</p>
                <div v-if="application.conduct_cert" class="file-container mt-4">
                  <iframe :src="`/storage/files/${application.conduct_cert}`" class="w-full h-40"
                    frameborder="0"></iframe>
                  <div class="flex justify-end"><a :href="`/storage/files/${application.conduct_cert}`"
                      target="_blank" style="display: inline-block;  color: white; text-decoration: none;"  class=" custom-button-primary no-underline mt-3">‡∏î‡∏π‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</a>
                  </div>
                </div>
              </div>
            </div>
            <!-- portfolio Section -->
            <div class='w-full max-w-lg px-10 py-8 mx-auto bg-white rounded-lg shadow-xl'>
              <div class='max-w-md mx-auto space-y-6'>
                <p class=" font-bold">Portfolio</p>
                <div v-if="application.portfolio" class="file-container mt-4">
                  <iframe :src="`/storage/files/${application.portfolio}`" class="w-full h-40" frameborder="0"></iframe>
                  <div class="flex justify-end"><a :href="`/storage/files/${application.portfolio}`"
                      target="_blank" style="display: inline-block;  color: white; text-decoration: none;"  class=" custom-button-primary no-underline mt-3">‡∏î‡∏π‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</a>
                  </div>
                </div>
              </div>
            </div>
            <div class='w-full max-w-lg px-10 py-8 mx-auto bg-white rounded-lg shadow-xl'
              v-if="application.type_ability === '2'">
              <div class='max-w-md mx-auto space-y-6'>
                <p class=" font-bold">‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏£‡∏±‡∏ö‡∏£‡∏≠‡∏á‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡∏ß</p>
                <div v-if="application.fam_cert" class="file-container mt-4">
                  <iframe :src="`/storage/files/${application.fam_cert}`" class="w-full h-40" frameborder="0"></iframe>
                  <div class="flex justify-end"><a :href="`/storage/files/${application.fam_cert}`" target="_blank" style="display: inline-block;  color: white; text-decoration: none;" 
                      class=" custom-button-primary no-underline mt-3">‡∏î‡∏π‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</a>
                  </div>
                </div>
              </div>
            </div>

            <!-- award_certs Section -->
            <div
              v-if="application.type_ability === '5' || application.type_ability === '4' || application.type_ability === '3'"
              class='w-full max-w-lg px-10 py-8 mx-auto bg-white rounded-lg shadow-xl'>
              <div class='max-w-md mx-auto space-y-6'>
                <p class=" font-bold">‡πÉ‡∏ö‡∏£‡∏±‡∏ö‡∏£‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡πÄ‡∏Å‡∏µ‡∏¢‡∏£‡∏ï‡∏¥</p>
                <div v-if="application.award_certs" class="file-container mt-4">
                  <iframe :src="`/storage/files/${application.award_certs}`" class="w-full h-40"
                    frameborder="0"></iframe>
                  <div class="flex justify-end"><a :href="`/storage/files/${application.award_certs}`"
                      target="_blank" style="display: inline-block;  color: white; text-decoration: none;"  class=" custom-button-primary no-underline mt-3">‡∏î‡∏π‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</a>
                  </div>
                </div>
              </div>
            </div>
            <!-- leader_proof Section -->
            <div v-if="application.type_ability === '6'"
              class='w-full max-w-lg px-10 py-8 mx-auto bg-white rounded-lg shadow-xl'>
              <div class='max-w-md mx-auto space-y-6'>
                <p class=" font-bold">‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏£‡∏≠‡∏á‡∏†‡∏≤‡∏ß‡∏∞‡∏ú‡∏π‡πâ‡∏ô‡∏≥</p>
                <div v-if="application.leader_proof" class="file-container mt-4">
                  <iframe :src="`/storage/files/${application.leader_proof}`" class="w-full h-40"
                    frameborder="0"></iframe>
                  <div class="flex justify-end"><a :href="`/storage/files/${application.leader_proof}`"
                      target="_blank" style="display: inline-block;  color: white; text-decoration: none;"  class=" custom-button-primary no-underline mt-3">‡∏î‡∏π‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </template>



        <template v-if="application.scholar_type === '1'">


          <!-- File components -->
          <div class="grid grid-cols-1 md:grid-cols-3 mt-3  gap-4 w-full mt-3">
            <!-- gpa_image Section -->
            <div class='w-full max-w-lg px-10 py-8 mx-auto bg-white rounded-lg shadow-xl'>
              <div class='max-w-md mx-auto space-y-6'>
                <p class=" font-bold">‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</p>
                <div v-if="application.gpa_image" class="file-container mt-4">
                  <iframe :src="`/storage/files/${application.gpa_image}`" class="w-full h-40" frameborder="0"></iframe>
                  <div class="flex justify-end"><a :href="`/storage/files/${application.gpa_image}`"
                      target="_blank" style="display: inline-block;  color: white; text-decoration: none;"  class=" custom-button-primary no-underline mt-3">‡∏î‡∏π‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</a>

                  </div>
                </div>
              </div>
            </div>

            <div class='w-full max-w-lg px-10 py-8 mx-auto bg-white rounded-lg shadow-xl'>
              <div class='max-w-md mx-auto space-y-6'>
                <p class=" font-bold">‡∏£‡∏π‡∏õ‡∏ú‡∏π‡πâ‡∏™‡∏°‡∏±‡∏Ñ‡∏£</p>
                <div v-if="application.imagefile" class="file-container mt-4">
                  <iframe :src="`/storage/files/${application.imagefile}`" class="w-full h-40" frameborder="0"></iframe>
                  <div class="flex justify-end"><a :href="`/storage/files/${application.imagefile}`"
                      target="_blank" style="display: inline-block;  color: white; text-decoration: none;"  class=" custom-button-primary no-underline mt-3">‡∏î‡∏π‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</a>
                  </div>
                </div>
              </div>
            </div>

            <!-- conduct_cert Section -->
            <div class='w-full max-w-lg px-10 py-8 mx-auto bg-white rounded-lg shadow-xl'>
              <div class='max-w-md mx-auto space-y-6'>
                <p class=" font-bold">‡πÅ‡∏ö‡∏ö‡∏ü‡∏≠‡∏£‡πå‡∏¢‡∏∑‡πà‡∏ô‡∏Å‡∏π‡∏ó‡∏∏‡∏ô‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤</p>
                <div v-if="application.scholar_form" class="file-container mt-4">
                  <iframe :src="`/storage/files/${application.scholar_form}`" class="w-full h-40"
                    frameborder="0"></iframe>
                  <div class="flex justify-end"><a :href="`/storage/files/${application.scholar_form}`"
                      target="_blank" style="display: inline-block;  color: white; text-decoration: none;"  class=" custom-button-primary no-underline mt-3">‡∏î‡∏π‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</a>
                  </div>
                </div>
              </div>
            </div>
            <!-- portfolio Section -->
            <div class='w-full max-w-lg px-10 py-8 mx-auto bg-white rounded-lg shadow-xl'>
              <div class='max-w-md mx-auto space-y-6'>
                <p class=" font-bold">‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</p>
                <div v-if="application.reg_form" class="file-container mt-4">
                  <iframe :src="`/storage/files/${application.reg_form}`" class="w-full h-40" frameborder="0"></iframe>
                  <div class="flex justify-end"><a :href="`/storage/files/${application.reg_form}`" target="_blank" style="display: inline-block;  color: white; text-decoration: none;" 
                      class=" custom-button-primary no-underline mt-3">‡∏î‡∏π‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</a>
                  </div>
                </div>
              </div>
            </div>

            <div class='w-full max-w-lg px-10 py-8 mx-auto bg-white rounded-lg shadow-xl'>
              <div class='max-w-md mx-auto space-y-6'>
                <p class=" font-bold">‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à‡∏ä‡∏≥‡∏£‡∏∞‡∏Ñ‡πà‡∏≤‡πÄ‡∏ó‡∏≠‡∏°</p>
                <div v-if="application.fee_receipt" class="file-container mt-4">
                  <iframe :src="`/storage/files/${application.fee_receipt}`" class="w-full h-40"
                    frameborder="0"></iframe>
                  <div class="flex justify-end"><a :href="`/storage/files/${application.fee_receipt}`"
                      target="_blank" style="display: inline-block;  color: white; text-decoration: none;"  class=" custom-button-primary no-underline mt-3">‡∏î‡∏π‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</a>
                  </div>
                </div>
              </div>
            </div>

            <div class='w-full max-w-lg px-10 py-8 mx-auto bg-white rounded-lg shadow-xl'>
              <div class='max-w-md mx-auto space-y-6'>
                <p class=" font-bold">‡∏ú‡∏•‡∏á‡∏≤‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏û‡∏¥‡∏à‡∏≤‡∏£‡∏ì‡∏≤</p>
                <div v-if="application.certificates" class="file-container mt-4">
                  <iframe :src="`/storage/files/${application.certificates}`" class="w-full h-40"
                    frameborder="0"></iframe>
                  <div class="flex justify-end"><a :href="`/storage/files/${application.certificates}`"
                      target="_blank" style="display: inline-block;  color: white; text-decoration: none;"  class=" custom-button-primary no-underline mt-3">‡∏î‡∏π‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </template>

      </div>
    </div>
  </AuthenticatedLayout>
</template>
<script setup>
import { defineProps, ref } from 'vue';
import { useForm } from '@inertiajs/vue3'; // Make sure to import useForm if it's not defined elsewhere
import { usePermission } from "@/composables/permissions";
import AuthenticatedLayout from '@/Layouts/AuthenticatedLayout.vue';
import InputLabel from '@/Components/InputLabel.vue';
import TextInput from '@/Components/TextInput.vue';

import { Head, Link } from '@inertiajs/vue3';
// import Scholarship from '@/Layouts/Scholarship.vue';
import PrimaryButton from '@/Components/PrimaryButton.vue';
import InputError from '@/Components/InputError.vue';
import Swal from 'sweetalert2';
const { hasRole, hasPermission } = usePermission();
const props = defineProps({
  application: Object
});

 
const form = useForm({
  Interview_results: props.application.Interview_results || '',
  interview_score: props.application.interview_score || '',
  title: props.application.title,
  fname: props.application.fname ,
  lname: props.application.lname , 
});

 

const handleSubmit = () => {
  form.put(route('scholarship_application.interviewedit', props.application.id), {
    onSuccess: () => {
      let titleText;
      switch (form.title) {
        case '0':
          titleText = '‡∏ô‡∏≤‡∏¢';
          break;
        case '1':
          titleText = '‡∏ô‡∏≤‡∏á';
          break;
        case '2':
          titleText = '‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß';
          break;
        default:
          titleText = '';
          break;
      }

      let message;
      switch (form.Interview_results) {
        case '1':
          message = `\n‡∏Ç‡∏≠‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏Å‡∏±‡∏ö${titleText} ${form.fname} ${form.lname} ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏¢‡∏¥‡πà‡∏á‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏ó‡∏∏‡∏ô‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÉ‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ô‡∏µ‡πâ! üéâ `;
          break;
        case '2':
          message = `\n‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏™‡∏±‡∏°‡∏†‡∏≤‡∏©‡∏ì‡πå‡∏ó‡∏∏‡∏ô‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤\n${titleText} ${form.fname} ${form.lname} \n‡∏£‡∏≠‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏™‡∏±‡∏°‡∏†‡∏≤‡∏©‡∏ì‡πå`;
          break;
        case '0':
          message = `\n‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏™‡∏±‡∏°‡∏†‡∏≤‡∏©‡∏ì‡πå‡∏ó‡∏∏‡∏ô‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤\n${titleText} ${form.fname} ${form.lname} \n‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏Å‡∏≤‡∏£‡∏û‡∏¥‡∏à‡∏≤‡∏£‡∏ì‡∏≤ ‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡∏±‡πâ‡∏á‡πÉ‡∏à‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡∏ó‡∏∏‡πà‡∏°‡πÄ‡∏ó`;
          break;
        default:
          message = `\n‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏™‡∏±‡∏°‡∏†‡∏≤‡∏©‡∏ì‡πå‡∏ó‡∏∏‡∏ô‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤${titleText} ${form.fname} ${form.lname}\n‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏Å‡∏≤‡∏£‡∏û‡∏¥‡∏à‡∏≤‡∏£‡∏ì‡∏≤ ‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡∏±‡πâ‡∏á‡πÉ‡∏à‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡∏ó‡∏∏‡πà‡∏°‡πÄ‡∏ó`;
          break;
      }

      sendLineNotification(props.application.user_id, message);
      // ‡πÅ‡∏™‡∏î‡∏á swal ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏£‡∏ì‡∏µ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
      Swal.fire({
        icon: 'success',
        title: '‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à',
        text: '‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏™‡∏±‡∏°‡∏†‡∏≤‡∏©‡∏ì‡πå‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß!',
        confirmButtonText: '‡∏ï‡∏Å‡∏•‡∏á',
        showCloseButton: true,  // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏∏‡πà‡∏°‡∏õ‡∏¥‡∏î
        closeButtonAriaLabel: '‡∏õ‡∏¥‡∏î',  // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏£‡∏∞‡∏ö‡∏∏‡∏õ‡∏∏‡πà‡∏°‡∏õ‡∏¥‡∏î
        customClass: {
          confirmButton: 'bg-blue-500 text-white hover:bg-blue-600',  // ‡∏õ‡∏£‡∏±‡∏ö‡∏™‡∏µ‡∏Ç‡∏≠‡∏á‡∏õ‡∏∏‡πà‡∏° "‡∏ï‡∏Å‡∏•‡∏á"
          closeButton: 'text-red-500'  // ‡∏õ‡∏£‡∏±‡∏ö‡∏™‡∏µ‡∏Ç‡∏≠‡∏á‡∏õ‡∏∏‡πà‡∏°‡∏õ‡∏¥‡∏î
        }
      }).then(() => {
        window.location.href = route('scholarship_applications.interviewdetail', { application: props.application.id });
      }); 
    },
    onError: () => {
      // ‡πÅ‡∏™‡∏î‡∏á swal ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏£‡∏ì‡∏µ‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
      Swal.fire({
        icon: 'error',
        title: '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î',
        text: '‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏î‡πâ ‡πÇ‡∏õ‡∏£‡∏î‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á.',
        confirmButtonText: '‡∏ï‡∏Å‡∏•‡∏á',
        showCloseButton: true,  // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏∏‡πà‡∏°‡∏õ‡∏¥‡∏î
        closeButtonAriaLabel: '‡∏õ‡∏¥‡∏î',  // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏£‡∏∞‡∏ö‡∏∏‡∏õ‡∏∏‡πà‡∏°‡∏õ‡∏¥‡∏î
        customClass: {
          confirmButton: 'bg-red-500 text-white hover:bg-red-600',  // ‡∏õ‡∏£‡∏±‡∏ö‡∏™‡∏µ‡∏Ç‡∏≠‡∏á‡∏õ‡∏∏‡πà‡∏° "‡∏ï‡∏Å‡∏•‡∏á"
          closeButton: 'text-gray-500 hover:text-gray-700'  // ‡∏õ‡∏£‡∏±‡∏ö‡∏™‡∏µ‡∏Ç‡∏≠‡∏á‡∏õ‡∏∏‡πà‡∏°‡∏õ‡∏¥‡∏î
        }
      });
    },
  });
};
// ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÑ‡∏õ‡∏¢‡∏±‡∏á LineNotifyController
const sendLineNotification = (userId, message) => {
  const token = document.querySelector('meta[name="csrf-token"]')?.getAttribute('content');

  if (!token) {
    console.error('CSRF token not found');
    return;
  }

  fetch(route('line.notify', { userId }), {
    method: 'POST',
    headers: {
      'Content-Type': 'save/json',
      'X-CSRF-TOKEN': token,
    },
    body: JSON.stringify({
      message: message,
    }),
  })
  .then(response => response.json())
  .then(data => {
    console.log('Line Notify Response:', data);
  })
  .catch(error => {
    console.error('Error:', error);
  });
};
</script>


<style scoped>
.card {
  background-color: #f8f9fa;
}

.image-container img {
  width: 100%;
  height: auto;
  border-radius: 0.5rem;
}

.file-container iframe {
  width: 100%;
  height: 200px;
  border: none;
}

.file-container img {
  width: 100%;
  height: auto;
}

.file-container a {
  display: block;
  margin-top: 0.5rem;
  color: #1d4ed8;
  text-decoration: underline;
}
</style>